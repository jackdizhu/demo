<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  <style type="text/css">
  #container{
      height:400px;
      width: 400px;
      border: 1px solid #000;
  }
  </style>
  <div id="container"></div>

  <script src="https://cdn.bootcss.com/three.js/r83/three.min.js"></script>
  <script>
    var scene = new THREE.Scene();
    // 添加物体
    var mat = new THREE.MeshBasicMaterial({
      // 线条材质
      color: 0xaf9216,
      wireframe: true, // 线框
      wireframeLinewidth: 1
    });
    //网格面材质
    var mats = [];
    mats.push(new THREE.MeshBasicMaterial({color: 0x009e60}));
    mats.push(new THREE.MeshBasicMaterial({color: 0x0051ba}));
    mats.push(new THREE.MeshBasicMaterial({color: 0xffd500}));
    mats.push(new THREE.MeshBasicMaterial({color: 0xff5800}));
    mats.push(new THREE.MeshBasicMaterial({color: 0xC41E3A}));
    mats.push(new THREE.MeshBasicMaterial({color: 0xffffff}));
    var faceMat = new THREE.MeshFaceMaterial(mats);
    // 几何结构
    var gem = new THREE.BoxGeometry(50, 50, 50, 1, 1, 1);
    // 物体
    var obj = new THREE.Mesh(gem, faceMat);
    scene.add(obj);
    // 添加自然光源
    var light = new THREE.AmbientLight(0xffffff);
    scene.add(light);
    // 基本数据
    var container = document.getElementById("container");
    var width = container.clientWidth, height = container.clientHeight, fov = 100;
    // 创建相机
    var camera = new THREE.PerspectiveCamera(fov, width / height, 1, 1000);
    // camera.lookAt(new THREE.Vector3( 0, 0, 0 ));
    // 远近
    camera.position.z = 100;
    // 创建渲染器
    var renderer = new THREE.WebGLRenderer({preserveDrawingBuffer: true});
    renderer.setClearColor(0xEEEEEE, 1.0);
    renderer.setSize( width, height );
    // 渲染
    container.appendChild(renderer.domElement);
    renderer.render(scene, camera);

    // 物体旋转
    obj.rotation.x += 0.5;
    obj.rotation.y += 0.5;
    renderer.render(scene, camera);
    // 旋转物体
    // function render() {
    //   requestAnimationFrame(render);
    //   obj.rotation.x += 0.01;
    //   obj.rotation.y += 0.01;
    //   renderer.render(scene, camera);
    // }
    // render();
    let mouse = {}
    let mouse2 = {}
    renderer.domElement.addEventListener('mousedown', function (event) {
      mouse = {
        x: event.clientX,
        y: event.clientY
      }
      // console.log(event, 'event')
    }, false)
    renderer.domElement.addEventListener('mousemove', function (event) {
      mouse2 = {
        x: event.clientX,
        y: event.clientY
      }
      console.log(event, 'event')
      if (mouse.x && mouse.y) {
        obj.rotation.x += (mouse2.x - mouse.x) / 100;
        // obj.rotation.y += (mouse2.y - mouse.y) / 100;
        renderer.render(scene, camera);
      }
    }, false)
  </script>
</body>
</html>
